<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>多重標記_北商為中心</title>
    <style>
        #map {
            height: 400px;
            width: 400px;
            margin: auto;
        }
    </style>

</head>

<body>
    <div id="map"></div>
    <script async
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCdv5TZc8mS2mlWp760aKhlVSH5nh26rpY&callback=initMap">
        </script>
    <script>
        function initMap() {
            // The location of taipei
            const NTUB = { lat: 25.042217144435075, lng: 121.52555897166718 };
            const SPIDER = { lat: 25.035969544748824, lng: 121.52264261731148 };
            // The map, centered at taipei
            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 15,
                center: NTUB,
            });
            // The markers, positioned at 
            const img1 = "img/placeholder.png";
            const img2 = "img/spidericon.png";
            // 多點標記
            for (let i = 0; i < locations.length; i++) {
                const markers = new google.maps.Marker({
                    position: locations[i],
                    map: map,
                    title: pos_name[i],
                    icon: img1
                });
                const infowindow = new google.maps.InfoWindow({
                    content: pos_name[i],
                    ariaLabel: pos_name[i],
                });
                markers.addListener("click", () => {
                    infowindow.open({
                        anchor: markers,
                        map,
                    });
                });
            }
            // 單點標記
            const marker = new google.maps.Marker({
                position: SPIDER,
                map: map,
                title: "蜘蛛人",
                icon: img2
            });
            const infowindow = new google.maps.InfoWindow({
                content:
                    "<h3>我是朱珠人</h3><br>hello",
                ariaLabel: "我是朱珠人",
            });
            marker.addListener("click", () => {
                infowindow.open({
                    anchor: marker,
                    map,
                });
            });


        }
        const pos_name = [
            "台北商業大學",
            "成功高中",
            "臺大醫學院",
            "臺大法學院",
        ];
        const locations = [
            // 台北商業大學
            { lat: 25.042217144435075, lng: 121.52555897166718 },
            // 成功高中
            { lat: 25.04249417221277, lng: 121.52360632348866 },
            // 臺大醫學院
            { lat: 25.040059207929982, lng: 121.51956691933226 },
            // 臺大法學院
            { lat: 25.040497083471088, lng: 121.524901689951 },

        ];


        window.initMap = initMap;
    </script>
</body>

</html>